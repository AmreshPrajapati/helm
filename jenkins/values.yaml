app:
  name: dev-jenkins
  namespace: dev-jenkins
  group: dev
  env: dev
  container:
    image: cloudbees/jenkins-operations-center:2.249.3.2
    imagePullPolicy: IfNotPresent
    portone: 8080
    porttwo: 50000
    resources:
      limits:
        cpu: "1"
        memory: "2048Mi"
      requests:
        cpu: "1"
        memory: "2048Mi"
    autoscaling:
      enabled: true
      minReplicas: 1
      maxReplicas: 5
      CPUUtilizationPercentage: 80
      MemoryUtilizationPercentage: 80     
    readinessProbe:
      httpGet:
        path: /login
        port: 8080
      initialDelaySeconds: 30
      periodSeconds: 10
      timeoutSeconds: 30
    env:
      - key: Name
        value: jenkins-dev
      - key: Environment
        value: dev
      - key: JAVA_OPTS
        value: -Xmx2048m -Dhudson.slaves.NodeProvisioner.MARGIN=50 -Dhudson.slaves.NodeProvisioner.MARGIN0=0.85 
    volumeMounts:
        mountPath: /var/jenkins_home
        name: jenkins
  volumes:
        name: jenkins
        persistentVolumeClaim:
          claimName: jenkins-claim
   
  service:
    enabled: true
    type: NodePort
    port: 8080 
    protocol: TCP
    name: http
    
  ingress:
    enabled: true
    annotations:
      class: alb
      scheme: internet-facing
      target-type: ip
      healthcheck-protocol: HTTP
      healthcheckpath: /
      group.name: dev
      listen-ports: '[{"HTTP": 80}]'
      backend-protocol: HTTP 
      path: /
    hosts:
      http: 
        paths:
          - pathType: Prefix
            path: /login
            backend:
              service:
                name: dev
                port:
                  number: 8080